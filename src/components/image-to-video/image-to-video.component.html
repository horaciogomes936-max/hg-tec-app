<div class="space-y-6">
  <h2 class="text-3xl font-semibold text-center text-indigo-300 mb-6">{{ 'TRANSFORM_IMAGES_TO_VIDEOS_TITLE' | translate }}</h2>

  <div>
    <label for="imageUpload" class="block text-sm font-medium text-gray-300 mb-2">
      {{ 'UPLOAD_IMAGE_LABEL' | translate }}
    </label>
    <input
      type="file"
      id="imageUpload"
      (change)="onFileSelected($event)"
      accept="image/*"
      class="block w-full text-sm text-gray-300
             file:mr-4 file:py-2 file:px-4
             file:rounded-md file:border-0
             file:text-sm file:font-semibold
             file:bg-indigo-500 file:text-white
             hover:file:bg-indigo-600 cursor-pointer" />
    @if (selectedFile()) {
      <p class="mt-2 text-gray-400 text-sm">{{ 'SELECTED_FILE_LABEL' | translate }}: {{ selectedFile()!.name }}</p>
    }
  </div>

  <div>
    <label for="animationStyle" class="block text-sm font-medium text-gray-300 mb-2">
      {{ 'VISUAL_STYLE_EFFECTS_LABEL' | translate }}
    </label>
    <select
      id="animationStyle"
      [(ngModel)]="animationStyle"
      class="w-full p-3 bg-gray-700 border border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-white">
      @for (style of animationStyles; track style.value) {
        <option [value]="style.value">{{ style.label }}</option>
      }
    </select>
  </div>

  <div>
    <label for="customPrompt" class="block text-sm font-medium text-gray-300 mb-2">
      {{ 'ADDITIONAL_INSTRUCTIONS_LABEL' | translate }}
    </label>
    <textarea
      id="customPrompt"
      [(ngModel)]="customPrompt"
      class="w-full p-3 bg-gray-700 border border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 h-24"
      [placeholder]="'ADDITIONAL_INSTRUCTIONS_PLACEHOLDER' | translate"></textarea>
  </div>

  <button
    (click)="transformImageToVideo()"
    [disabled]="isLoading() || !selectedFile()"
    class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
    @if (isLoading()) {
      {{ 'TRANSFORMING' | translate }}...
    } @else {
      {{ 'TRANSFORM_IMAGE_TO_VIDEO_BUTTON' | translate }}
    }
  </button>

  @if (isLoading()) {
    <div class="mt-6 flex items-center justify-center">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-400"></div>
      <span class="ml-3 text-indigo-300">{{ 'PROCESSING_IMAGE_MESSAGE' | translate }}...</span>
    </div>
  }

  @if (error()) {
    <div class="mt-6 p-4 bg-red-800 text-red-100 rounded-md">
      <p class="font-bold">{{ 'ERROR_LABEL' | translate }}:</p>
      <p>{{ error() }}</p>
    </div>
  }

  @if (generatedVideoUrl()) {
    <div class="mt-6 p-4 bg-gray-700 rounded-md shadow-inner">
      <h3 class="text-xl font-semibold text-indigo-200 mb-3">{{ 'GENERATED_VIDEO_TITLE' | translate }}:</h3>
      <p class="text-gray-300 mb-2">{{ generatedVideoDescription() }}</p>
      <video [src]="generatedVideoUrl()" controls class="w-full h-auto rounded-md shadow-lg" autoplay loop muted></video>
      <a [href]="generatedVideoUrl()" target="_blank" class="mt-3 inline-block text-indigo-400 hover:underline">
        {{ 'OPEN_VIDEO_IN_NEW_TAB' | translate }}
      </a>
    </div>
  }
</div>